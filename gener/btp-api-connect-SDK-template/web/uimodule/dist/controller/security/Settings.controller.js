sap.ui.define(["../BaseController"],function(e){"use strict";return e.extend("com.myorg.myUI5App.security.Settings",{onBeforeRendering:function(){const e=this.getView();const t=new sap.ui.model.json.JSONModel({enabled:false,visible:true});e.setModel(t,"setting");this._slider=e.getModel("setting");this.getSetting()},getSetting:function(){this.callSDK("GET","/app/security",undefined,this.setSetting)},setSetting:function(e){this.csrfToken=xhr.getResponseHeader("x-csrf-token");e.tokenPolicySettings=_self.tokenTimeConversion(e.tokenPolicySettings);this._slider.setProperty("/security",e)},tokenTimeConversion:function(e){e.accessTokenValidity=e.accessTokenValidity/60;e.refreshTokenValidity=e.refreshTokenValidity/3600;return e},getUpdateTokenSettings:function(){const e=this._slider.getProperty("/security/tokenPolicySettings/accessTokenValidity")*60;const t=this._slider.getProperty("/security/tokenPolicySettings/refreshTokenValidity")*3600;const i={tokenPolicySettings:{accessTokenValidity:e,refreshTokenValidity:t}};return i},onTokenTimeSave:function(){this.callSDK("PATCH","/app/security",this.getUpdateTokenSettings(),this.getSetting);this.onChangeState()},onChangeState:function(){let e=this._slider.getProperty("/enabled");let t=this._slider.getProperty("/visible");this._slider.setProperty("/enabled",!e);this._slider.setProperty("/visible",!t)}})});